default: &default
  adapter: postgresql
  encoding: unicode
  host: 127.0.0.1
  port: 54315
  pool: <%= ENV.fetch("RAILS_MAX_THREADS", 5).to_i + 1 + 2 + ENV.fetch("GOOD_JOB_MAX_THREADS", 5).to_i %>
  username: <%= ENV["PG_USER"] || "postgres" %>
  schema_search_path: "public"
  variables:
    statement_timeout: <%= ENV["STATEMENT_TIMEOUT"] || 60000 %>

development:
  <<: *default
  database: tangotube_development
  variables:
    statement_timeout: 900000

test:
  <<: *default
  database: tangotube_test

production:
  <<: *default
  host: <%= ENV["DB_HOST"] %>
  database: tangotube_production
  username: postgres
  password: <%= ENV["POSTGRES_PASSWORD"] %>
  port: 5432
